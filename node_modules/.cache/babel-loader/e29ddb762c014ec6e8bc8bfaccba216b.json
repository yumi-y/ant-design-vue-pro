{"remainingRequest":"/Users/yumi/代码/code/ant-design-vue-pro/node_modules/babel-loader/lib/index.js!/Users/yumi/代码/code/ant-design-vue-pro/node_modules/eslint-loader/index.js??ref--13-0!/Users/yumi/代码/code/ant-design-vue-pro/src/router.js","dependencies":[{"path":"/Users/yumi/代码/code/ant-design-vue-pro/src/router.js","mtime":1610964649177},{"path":"/Users/yumi/代码/code/ant-design-vue-pro/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yumi/代码/code/ant-design-vue-pro/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yumi/代码/code/ant-design-vue-pro/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"ant-design-vue/es/notification/style\";\nimport _notification from \"ant-design-vue/es/notification\";\nimport Vue from \"vue\";\nimport Router from \"vue-router\";\nimport findLast from \"lodash/findLast\";\nimport NProgress from \"nprogress\";\nimport \"nprogress/nprogress.css\";\nimport NotFound from \"./views/404\";\nimport Forbidden from \"./views/403\";\nimport { check, isLogin } from \"./utils/auth\";\nVue.use(Router);\nvar router = new Router({\n  mode: \"history\",\n  base: process.env.BASE_URL,\n  routes: [{\n    path: \"/user\",\n    hideInMenu: true,\n    component: function component() {\n      return import(\n      /* webpackChunkName: \"layout\" */\n      \"./layouts/UserLayout\");\n    },\n    children: [{\n      path: \"/user\",\n      redirect: \"/user/login\"\n    }, {\n      path: \"/user/login\",\n      name: \"login\",\n      component: function component() {\n        return import(\n        /* webpackChunkName: \"user\" */\n        \"./views/User/Login\");\n      }\n    }, {\n      path: \"/user/register\",\n      name: \"register\",\n      component: function component() {\n        return import(\n        /* webpackChunkName: \"user\" */\n        \"./views/User/Register\");\n      }\n    }]\n  }, {\n    path: \"/\",\n    meta: {\n      authority: [\"user\", \"admin\"]\n    },\n    component: function component() {\n      return import(\n      /* webpackChunkName: \"layout\" */\n      \"./layouts/BasicLayout\");\n    },\n    children: [// dashboard\n    {\n      path: \"/\",\n      redirect: \"/dashboard/analysis\"\n    }, {\n      path: \"/dashboard\",\n      name: \"dashboard\",\n      meta: {\n        icon: \"dashboard\",\n        title: \"仪表盘\"\n      },\n      component: {\n        render: function render(h) {\n          return h(\"router-view\");\n        }\n      },\n      children: [{\n        path: \"/dashboard/analysis\",\n        name: \"analysis\",\n        meta: {\n          title: \"分析页\"\n        },\n        component: function component() {\n          return import(\n          /* webpackChunkName: \"dashboard\" */\n          \"./views/Dashboard/Analysis\");\n        }\n      }]\n    }, // form\n    {\n      path: \"/form\",\n      name: \"form\",\n      component: {\n        render: function render(h) {\n          return h(\"router-view\");\n        }\n      },\n      meta: {\n        icon: \"form\",\n        title: \"表单\",\n        authority: [\"admin\"]\n      },\n      children: [{\n        path: \"/form/basic-form\",\n        name: \"basicform\",\n        meta: {\n          title: \"基础表单\"\n        },\n        component: function component() {\n          return import(\n          /* webpackChunkName: \"form\" */\n          \"./views/Forms/BasicForm\");\n        }\n      }, {\n        path: \"/form/step-form\",\n        name: \"stepform\",\n        hideChildrenInMenu: true,\n        meta: {\n          title: \"分布表单\"\n        },\n        component: function component() {\n          return import(\n          /* webpackChunkName: \"form\" */\n          \"./views/Forms/StepForm\");\n        },\n        children: [{\n          path: \"/form/step-form\",\n          redirect: \"/form/step-form/info\"\n        }, {\n          path: \"/form/step-form/info\",\n          name: \"info\",\n          component: function component() {\n            return import(\n            /* webpackChunkName: \"form\" */\n            \"./views/Forms/StepForm/Step1\");\n          }\n        }, {\n          path: \"/form/step-form/confirm\",\n          name: \"confirm\",\n          component: function component() {\n            return import(\n            /* webpackChunkName: \"form\" */\n            \"./views/Forms/StepForm/Step2\");\n          }\n        }, {\n          path: \"/form/step-form/result\",\n          name: \"result\",\n          component: function component() {\n            return import(\n            /* webpackChunkName: \"form\" */\n            \"./views/Forms/StepForm/Step3\");\n          }\n        }]\n      }]\n    }]\n  }, {\n    path: \"/403\",\n    name: \"403\",\n    hideInMenu: true,\n    component: Forbidden\n  }, {\n    path: \"*\",\n    name: \"404\",\n    hideInMenu: true,\n    component: NotFound\n  }]\n});\nrouter.beforeEach(function (to, from, next) {\n  if (to.path !== from.path) {\n    NProgress.start();\n  }\n\n  var record = findLast(to.matched, function (record) {\n    return record.meta.authority;\n  });\n\n  if (record && !check(record.meta.authority)) {\n    if (!isLogin() && to.path !== \"/user/login\") {\n      next({\n        path: \"/user/login\"\n      });\n    } else if (to.path !== \"/403\") {\n      _notification.error({\n        message: \"403\",\n        description: \"你没有权限访问，请联系管理员咨询。\"\n      });\n\n      next({\n        path: \"/403\"\n      });\n    }\n\n    NProgress.done();\n  }\n\n  next();\n});\nrouter.afterEach(function () {\n  NProgress.done();\n});\nexport default router;",{"version":3,"sources":["/Users/yumi/代码/code/ant-design-vue-pro/src/router.js"],"names":["Vue","Router","findLast","NProgress","NotFound","Forbidden","check","isLogin","use","router","mode","base","process","env","BASE_URL","routes","path","hideInMenu","component","children","redirect","name","meta","authority","icon","title","render","h","hideChildrenInMenu","beforeEach","to","from","next","start","record","matched","error","message","description","done","afterEach"],"mappings":"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","sourcesContent":["import Vue from \"vue\";\nimport Router from \"vue-router\";\nimport findLast from \"lodash/findLast\";\nimport { notification } from \"ant-design-vue\";\nimport NProgress from \"nprogress\";\nimport \"nprogress/nprogress.css\";\nimport NotFound from \"./views/404\";\nimport Forbidden from \"./views/403\";\nimport { check, isLogin } from \"./utils/auth\";\n\nVue.use(Router);\n\nconst router = new Router({\n  mode: \"history\",\n  base: process.env.BASE_URL,\n  routes: [\n    {\n      path: \"/user\",\n      hideInMenu: true,\n      component: () =>\n        import(/* webpackChunkName: \"layout\" */ \"./layouts/UserLayout\"),\n      children: [\n        {\n          path: \"/user\",\n          redirect: \"/user/login\",\n        },\n        {\n          path: \"/user/login\",\n          name: \"login\",\n          component: () =>\n            import(/* webpackChunkName: \"user\" */ \"./views/User/Login\"),\n        },\n        {\n          path: \"/user/register\",\n          name: \"register\",\n          component: () =>\n            import(/* webpackChunkName: \"user\" */ \"./views/User/Register\"),\n        },\n      ],\n    },\n    {\n      path: \"/\",\n      meta: { authority: [\"user\", \"admin\"] },\n      component: () =>\n        import(/* webpackChunkName: \"layout\" */ \"./layouts/BasicLayout\"),\n      children: [\n        // dashboard\n        {\n          path: \"/\",\n          redirect: \"/dashboard/analysis\",\n        },\n        {\n          path: \"/dashboard\",\n          name: \"dashboard\",\n          meta: { icon: \"dashboard\", title: \"仪表盘\" },\n          component: { render: (h) => h(\"router-view\") },\n          children: [\n            {\n              path: \"/dashboard/analysis\",\n              name: \"analysis\",\n              meta: { title: \"分析页\" },\n              component: () =>\n                import(/* webpackChunkName: \"dashboard\" */ \"./views/Dashboard/Analysis\"),\n            },\n          ],\n        },\n        // form\n        {\n          path: \"/form\",\n          name: \"form\",\n          component: { render: (h) => h(\"router-view\") },\n          meta: { icon: \"form\", title: \"表单\", authority: [\"admin\"] },\n          children: [\n            {\n              path: \"/form/basic-form\",\n              name: \"basicform\",\n              meta: { title: \"基础表单\" },\n              component: () =>\n                import(/* webpackChunkName: \"form\" */ \"./views/Forms/BasicForm\"),\n            },\n            {\n              path: \"/form/step-form\",\n              name: \"stepform\",\n              hideChildrenInMenu: true,\n              meta: { title: \"分布表单\" },\n              component: () =>\n                import(/* webpackChunkName: \"form\" */ \"./views/Forms/StepForm\"),\n              children: [\n                {\n                  path: \"/form/step-form\",\n                  redirect: \"/form/step-form/info\",\n                },\n                {\n                  path: \"/form/step-form/info\",\n                  name: \"info\",\n                  component: () =>\n                    import(/* webpackChunkName: \"form\" */ \"./views/Forms/StepForm/Step1\"),\n                },\n                {\n                  path: \"/form/step-form/confirm\",\n                  name: \"confirm\",\n                  component: () =>\n                    import(/* webpackChunkName: \"form\" */ \"./views/Forms/StepForm/Step2\"),\n                },\n                {\n                  path: \"/form/step-form/result\",\n                  name: \"result\",\n                  component: () =>\n                    import(/* webpackChunkName: \"form\" */ \"./views/Forms/StepForm/Step3\"),\n                },\n              ],\n            },\n          ],\n        },\n      ],\n    },\n    {\n      path: \"/403\",\n      name: \"403\",\n      hideInMenu: true,\n      component: Forbidden,\n    },\n    {\n      path: \"*\",\n      name: \"404\",\n      hideInMenu: true,\n      component: NotFound,\n    },\n  ],\n});\n\nrouter.beforeEach((to, from, next) => {\n  if (to.path !== from.path) {\n    NProgress.start();\n  }\n  const record = findLast(to.matched, (record) => record.meta.authority);\n  if (record && !check(record.meta.authority)) {\n    if (!isLogin() && to.path !== \"/user/login\") {\n      next({\n        path: \"/user/login\",\n      });\n    } else if (to.path !== \"/403\") {\n      notification.error({\n        message: \"403\",\n        description: \"你没有权限访问，请联系管理员咨询。\",\n      });\n      next({\n        path: \"/403\",\n      });\n    }\n    NProgress.done();\n  }\n\n  next();\n});\n\nrouter.afterEach(() => {\n  NProgress.done();\n});\n\nexport default router;\n"]}]}